<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>B·∫°n c√≥ d·ªÖ th∆∞∆°ng kh√¥ng?</title>
  <style>
    :root{
      --bg:#f7f9fc;
      --card:#ffffff;
      --accent:#ff6b6b;
      --muted:#6b7280;
      --shadow: 0 8px 24px rgba(20,20,40,0.08);
      --radius:14px;
    }
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:linear-gradient(180deg,#f0f4ff 0%,var(--bg) 100%);margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{background:var(--card);border-radius:var(--radius);padding:28px 30px;max-width:720px;width:100%;box-shadow:var(--shadow);text-align:center}
    h1{margin:0 0 12px;font-size:22px}
    p.lead{color:var(--muted);margin:0 0 22px}

    .controls{display:flex;gap:14px;justify-content:center;align-items:center}
    .btn{
      --scale:1;
      display:inline-flex;align-items:center;justify-content:center;
      padding:14px 22px;border-radius:12px;border:0;cursor:pointer;font-weight:600;font-size:15px;transition:transform 260ms cubic-bezier(.2,.9,.2,1), box-shadow 200ms;
      transform:scale(var(--scale));
      box-shadow:0 6px 18px rgba(15,20,50,0.06);
    }
    .btn:active{transform:translateY(1px) scale(var(--scale))}
    .yes{background:linear-gradient(90deg,#ff8a80,#ff6b6b);color:white}
    .no{background:transparent;color:var(--accent);border:2px solid rgba(255,107,107,0.15)}

    /* modal / confirmation */
    .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(10,12,20,0.32);backdrop-filter:blur(3px);opacity:0;pointer-events:none;transition:opacity 220ms}
    .overlay.show{opacity:1;pointer-events:all}
    .modal{background:var(--card);padding:22px;border-radius:12px;min-width:320px;box-shadow:0 18px 48px rgba(10,12,30,0.18);text-align:center}
    .modal h2{margin:0 0 8px;font-size:18px}
    .modal p{margin:0 0 14px;color:var(--muted)}

    .final{font-size:18px;color:#0f1724;margin-top:16px}

    @media (max-width:460px){.btn{padding:12px 16px}}
  </style>
</head>
<body>
  <div class="card" role="main">
    <h1>B·∫°n c√≥ c·∫£m th·∫•y m√¨nh d·ªÖ th∆∞∆°ng kh√¥ng?</h1>
    <p class="lead">Ch·ªçn m·ªôt c√¢u tr·∫£ l·ªùi b√™n d∆∞·ªõi ‚Äî Nh·ªõ h√£y ch·ªçn c√¢u tr·∫£ l·ªùi ƒë√∫ng üòÑ</p>

    <div class="controls">
      <button class="btn yes" id="yesBtn">C√≥</button>
      <button class="btn no" id="noBtn">Kh√¥ng</button>
    </div>

    <div id="result" class="final" aria-live="polite"></div>
  </div>

  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h2 id="modalTitle">B·∫°n ch·∫Øc ch·ª©?</h2>
      <p id="modalHint">H√£y ch·ªçn c√¢u tr·∫£ l·ªùi theo l∆∞∆°ng t√¢m b·∫°n.</p>
      <div style="display:flex;gap:12px;justify-content:center;margin-top:10px">
        <button class="btn yes" id="confirmYes">C√≥</button>
        <button class="btn no" id="confirmNo">Kh√¥ng</button>
      </div>
    </div>
  </div>

  <script>
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const overlay = document.getElementById('overlay');
    const confirmYes = document.getElementById('confirmYes');
    const confirmNo = document.getElementById('confirmNo');
    const result = document.getElementById('result');
    const modalHint = document.getElementById('modalHint');

    let confirmCount = 0; // counts how many times user confirmed 'C√≥' in the modal
    const maxConfirm = 5; // require 5 times

    // danh s√°ch c√¢u hi·ªÉn th·ªã m·ªói l·∫ßn x√°c nh·∫≠n (1 c√¢u cho m·ªói l·∫ßn b·∫•m)
    const messages = [
      "B·∫°n ch·∫Øc ch∆∞a? üòè",
      "Thi·ªát s·ª± ch·∫Øc ch·∫Øn ƒë√≥ h·∫£? ü§î",
      "ƒê·ª´ng ƒë·ªïi √Ω nha! üôÉ",
      "B·∫°n ki√™n ƒë·ªãnh th·∫≠t ƒë·∫•y üòÜ",
      "T·ªët l·∫Øm, m√¨nh tin r·ªìi üéâ"
    ];

    // helper to set scale via CSS variable
    function setScale(el, scale){
      el.style.setProperty('--scale', scale);
    }

    // initial behavior: clicking the main "C√≥" opens the confirmation modal
    yesBtn.addEventListener('click', ()=>{
      overlay.classList.add('show');
      overlay.setAttribute('aria-hidden','false');
    });

    noBtn.addEventListener('click', ()=>{
      // playful reaction when user immediately clicks "Kh√¥ng"
      result.textContent = '√îi... b·∫°n kh√¥ng ƒë·ªìng √Ω √†? (Th·ª≠ b·∫•m C√≥ ƒëi üòè)';
      setTimeout(()=> result.textContent = '', 2400);
    });

    // if user clicks "Kh√¥ng" in the modal, tease and close
    confirmNo.addEventListener('click', ()=>{
      result.textContent = 'H·ª´m, kh√¥ng ph·∫£i c√¢u tr·∫£ l·ªùi m√† m√¨nh mu·ªën ‚Äî th·ª≠ l·∫°i nh√©!';
      overlay.classList.remove('show');
      overlay.setAttribute('aria-hidden','true');
      setTimeout(()=> result.textContent = '', 2200);
    });

    // when user confirms "C√≥" in modal (single listener)
    confirmYes.addEventListener('click', ()=>{
      confirmCount += 1;

      // every time they confirm, shrink the modal's "C√≥" and enlarge the modal's "Kh√¥ng" a bit
      const yesScale = Math.max(0.5, 1 - 0.14 * confirmCount); // shrink each time
      const noScale = 1 + 0.22 * confirmCount; // grow each time
      setScale(confirmYes, yesScale);
      setScale(confirmNo, noScale);

      // also visually sync the big buttons on the main page so user sees growth/shrink across UI
      setScale(yesBtn, yesScale);
      setScale(noBtn, noScale);

      if(confirmCount >= maxConfirm){
        // on the final confirmation, show the "correct" answer and close modal
        overlay.classList.remove('show');
        overlay.setAttribute('aria-hidden','true');

        // reveal final answer
        result.innerHTML = 'C√¢u tr·∫£ l·ªùi ch√≠nh x√°c: <strong>C√≥ ‚Äî b·∫°n d·ªÖ th∆∞∆°ng gi·ªëng c√¥ng ch√∫a Fiona trong Disney v·∫≠y!</strong> üéâ';

        // emphasize the final state
        setScale(yesBtn, 1.06);
        setScale(noBtn, 1.06);

        // disable further interaction
        yesBtn.disabled = true;
        noBtn.disabled = true;
        confirmYes.disabled = true;
        confirmNo.disabled = true;

        // subtle animation: pulse the result once
        result.animate([
          { transform: 'scale(0.98)', opacity: 0.9 },
          { transform: 'scale(1.03)', opacity: 1 }
        ], { duration: 420, easing: 'ease-out' });
      } else {
        // otherwise, keep the modal open and update hint with the appropriate message
        const idx = confirmCount - 1; // index into messages
        modalHint.textContent = messages[idx] || `C√≤n ${maxConfirm - confirmCount} l·∫ßn x√°c nh·∫≠n n·ªØa...`;
      }
    });

    // close modal by clicking outside
    overlay.addEventListener('click', (e)=>{
      if(e.target === overlay){
        overlay.classList.remove('show');
        overlay.setAttribute('aria-hidden','true');
      }
    });

    // make sure initial scales are 1
    setScale(yesBtn,1);
    setScale(noBtn,1);
    setScale(confirmYes,1);
    setScale(confirmNo,1);
  </script>
</body>
</html>
